---
layout: post
title:  "JVM-线上出问题的工具"
tags: JVM
---

Oracle官网（垃圾收集器）

[https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/index.html](https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/index.html "https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/index.html")


## 导出系统信息 (进程, 内存, 磁盘, 网络)

    jps -l > 2020_01_11_00_55_jps.txt
    top -n 1 -b > 2020_01_11_00_55_top.txt
    free -h > 2020_01_11_00_55_free.txt
    df -h > 2020_01_11_00_55_df.txt
    netstat -nlatp > 2020_01_11_00_55_netstat.txt
    cp gc.log 2020_01_11_00_55_gc.log
    iostat -t > 2020_01_11_00_55_iostat_t.txt
    iostat -d -x -k 1 1 > 2020_01_11_00_55_iostat_d.txt
    
## 导出内存占用与类实例数量

    jmap -histo 12977 > 2020_01_11_00_28_histo.txt

##  导出线程状况

    jstack 12977 > 2020_01_11_00_55_thread.txt

## 导出堆信息 (只导出存活的对象)

    jmap -dump:live,format=b,file=heap_2020_01_11_00_59_dump.bin 12977