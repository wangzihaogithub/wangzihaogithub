---
layout: post
title:  "数据库-SQL"
tags: 数据库
---

### 查看优化后的SQL

    EXPLAIN EXTENDED SELECT * FROM my_table WHERE id = 1;
    SHOW WARNINGS;
    
 ---    
    
### where子查询

**行子查询** (以前没用过,我刚发现)

    select * from my_table where (create_time,last_login_time) = (select max(create_time),max(last_login_time) from my_table);

与下面这两个是一类的(列子查询,标量子查询)

    select * from my_table where id in (select id from my_table2 where name='a');
    select * from my_table where id = (select id from my_table2 where name='a');

 --- 

### mysql变量操作
    
- **查询** 

        select @@autocommit,@@auto_increment_increment;
        show variables like 'auto_increment_increment';
        
        
- **查询并修改会话变量** 

        select @变量名:=select 字段 from 表;
    
    
- **修改会话变量** 

        set @变量名:=值;


- **修改系统变量(只对新客户端生效)** 

        set global 变量名:=值; 
        set @@gloabl.变量名:=值;
 
 
- **修改系统变量(只对当前客户端生效)**  

        set 变量名:=值;
    
 ---